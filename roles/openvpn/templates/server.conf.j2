#{{ ansible_managed }}
dev tun
ifconfig {{ openvpn_network_gw }} {{ openvpn_network_client }}
cipher AES-256-CBC
keepalive 10 60
ping-timer-rem
persist-tun
persist-key
cipher AES-256-CBC
# Add each libvirt network we set up so the client configures the routes to go through the tun interface

{% if libvirt_networks is defined %}
{% for network in libvirt_networks %}
route {{ network.address }} {{ network.netmask }} {{ openvpn_network_gw }}
{% endfor %}
{% else %}
# No networks defined in libvirt_networks:
# so no routes added
{% endif %}

secret static.key

